<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Interpolation (or &lsquo;oops the eye electrode fell off my participant&rsquo;s face&rsquo;)#Intro
Whilst taking a look at your data, you may notice that certain electrodes that seem particularly noisy (i.e., fuzzy or making unpredictable leaps and falls). If this is the case, you may wish to interpolate them. Interpolation - put simply - involves recreating one electrode from its surrounding electrodes. As a function in EEGLAB, interpolation is fairly simple to carry out.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="8. Interpolation" />
<meta property="og:description" content="Interpolation (or &lsquo;oops the eye electrode fell off my participant&rsquo;s face&rsquo;)#Intro
Whilst taking a look at your data, you may notice that certain electrodes that seem particularly noisy (i.e., fuzzy or making unpredictable leaps and falls). If this is the case, you may wish to interpolate them. Interpolation - put simply - involves recreating one electrode from its surrounding electrodes. As a function in EEGLAB, interpolation is fairly simple to carry out." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://j-lewen.github.io/erp/docs/table-of-contents/training/part_8/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2023-07-15T12:43:25+01:00" />
<title>8. Interpolation | ERP Resources</title>
<link rel="manifest" href="/erp/manifest.json">
<link rel="icon" href="/erp/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/erp/book.min.4e9c835d588941dade0d826450d333312d45c30b834d56ec69a0b22b1ffbb9f9.css" integrity="sha256-TpyDXViJQdreDYJkUNMzMS1FwwuDTVbsaaCyKx/7ufk=" crossorigin="anonymous">
  <script defer src="/erp/flexsearch.min.js"></script>
  <script defer src="/erp/en.search.min.c41f7f11db491040deff170b9e4c3c368fc3687febb26e00e23f5a3ba8569442.js" integrity="sha256-xB9/EdtJEEDe/xcLnkw8No/DaH/rsm4A4j9aO6hWlEI=" crossorigin="anonymous"></script>

  <script defer src="/erp/sw.min.e29036b255ace43cfdfab781867fcd6e0525713bc11a5f56608d1782e7200e77.js" integrity="sha256-4pA2slWs5Dz9&#43;reBhn/NbgUlcTvBGl9WYI0XgucgDnc=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/erp/"><span>ERP Resources</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>



  



  
    
  



<ul class="book-languages">
  <li>
    <input type="checkbox" id="languages" class="toggle" />
    <label for="languages" class="flex justify-between">
      <a role="button" class="flex align-center">
        <img src="/erp/svg/translate.svg" class="book-icon" alt="Languages" />
        English
      </a>
    </label>

    <ul>
      
      <li>
        <a href="https://j-lewen.github.io/erp/zh/">
          Chinese
        </a>
      </li>
      
    </ul>
  </li>
</ul>











  



  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/" class="">About</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-aa6010235181e8c9d397ab55bc99d4ed" class="toggle" checked />
    <label for="section-aa6010235181e8c9d397ab55bc99d4ed" class="flex justify-between">
      <a href="/erp/docs/table-of-contents/training/" class="">ERP Training Resources</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/training/part_1/" class="">1. Getting started with ERPLAB</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/training/part_2/" class="">2. Importing data</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/training/part_3/" class="">3. Setting channel locations</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/training/part_4/" class="">4. Resampling</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/training/part_5/" class="">5. High-pass filtering</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/training/part_6/" class="">6. Re-referencing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/training/part_7/" class="">7. Artifact correction (ICA)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/training/part_8/" class="active">8. Interpolation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/training/part_9/" class="">9. Low-pass filter (optional)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/training/part_10/" class="">10. Epoch your data</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/training/part_11/" class="">11. Artifact rejection</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/training/part_12/" class="">12. Averaging</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/training/part_13/" class="">13. Create difference waves (optional)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/training/part_14/" class="">14. Grand averaging</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/training/part_15/" class="">15. What next?</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/training/scripts/" class="">Scripts: Essential information</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/training/part_16/" class="">Appendix A</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/teaching/" class="">Teaching Material</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-02b6be880877da3da61cf051c9bcb238" class="toggle"  />
    <label for="section-02b6be880877da3da61cf051c9bcb238" class="flex justify-between">
      <a href="/erp/docs/table-of-contents/external/" class="">External Resources &amp; Publications</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/external/design/" class="">Designing your study</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/external/acquisition/" class="">Acquiring your data</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/external/preprocess/" class="">Pre-processing &amp; analysis</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/table-of-contents/external/writing/" class="">Writing your paper</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/erp/docs/contact/" class="">Contact</a>
  

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/erp/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>8. Interpolation</strong>

  <label for="toc-control">
    
  </label>
</div>


  
 
      </header>

      
      
  <article class="markdown"><br>
<h3 id="interpolation-or-oops-the-eye-electrode-fell-off-my-participants-face">
  Interpolation (or &lsquo;oops the eye electrode fell off my participant&rsquo;s face&rsquo;)
  <a class="anchor" href="#interpolation-or-oops-the-eye-electrode-fell-off-my-participants-face">#</a>
</h3>
<br>
<p><u> Intro</u></p>
<p>Whilst taking a look at your data, you may notice that certain electrodes that seem particularly noisy (i.e., fuzzy or making unpredictable leaps and falls). If this is the case, you may wish to interpolate them. Interpolation - put simply - involves recreating one electrode from its surrounding electrodes. As a function in EEGLAB, interpolation is fairly simple to carry out.</p>
<p>
  <img src="/erp/images/interpolate.png" alt="drift" /></p>
<p>It&rsquo;s easy to see why interpolation is useful. However, let&rsquo;s exemplify the pitfalls of interpolation through an example:</p>
<p>Imagine you are a researcher interested in measuring the N400 response to a target. You collect data from a participant, and note that whilst the data overall is of very good quality, a number of electrodes have broken or lost connection during the testing session. These electrodes are Cz, C2, CP1, CPz, and CP2.</p>
<p>In theory you could interpolate these electrodes. But you need to think critically about the dataset this would leave you with. There are two problems here. 1. The electrodes that require interpolation are clustered together in a group. This means that rather than rebuilding the signal from immediately surrounding electrodes, any signal that forms part of the reconstructed electrode will need to come from outside of this bad electrode cluster. The more bad electrodes you have in close proximity, the less accurately interpolation can rebuild something close to the true signal that would have been recorded at the electrode site. Problem 2 pertains to your experiment design. If my intention is to measure the N400, the electrodes in my bad cluster are critical. The N400 - as a typically centroparietal component, is typically recorded from central, centroparietal and (sometimes) frontal or parietal sites. If the vast majority of these electrodes bad (i.e., requiring interpolation), you need to consider whether it&rsquo;s reasonable to retain a dataset in your grand average for which 5 integral electrodes have been interpolated. The long and short of it is, use interpolation to your advantage, but make sure the way you use it is reasonable.</p>
<hr style="height:1px; visibility:hidden;" />
<u> Video</u>
<p>COMING SOON</p>
<hr style="height:1px; visibility:hidden;" />
<u> Code</u>
<pre><code>   EEG = pop_interp(EEG, [SPECIFY ELECTRODE NUMBER HERE], 'spherical');
</code></pre>
<hr style="height:1px; visibility:hidden;" />
<u> Script</u>
<p>
  <a href="/erp/files/script_7.zip">Script #5</a> (download).</p>
<p>
  <a href="/erp/files/script_7.txt">Script #5</a> (view).</p>
<p>Note that to run this script you should use 
  <a href="https://drive.google.com/drive/folders/14ZlXqNKQVOCI1ZDHlCSHqVuea1CQlNMu?usp=sharing">Dataset #7</a>. From this step onwards we will use Dataset #7 which has been pre-cleaned (ready for ICA), as opposed to Dataset #1.</p>
<hr style="height:1px; visibility:hidden;" />
<u> Datasets</u>
<p>To run this operation via the user interface, the example dataset (used in the above video) can be downloaded 
  <a href="/erp/">here</a>, along with an additional dataset for scripting practice.</p>
<hr style="height:1px; visibility:hidden;" />
<u> Activity</u>
<p>Have a go at interpolating electrodes manually via the UI, and via the attached scripts. Note that the scripts provided here enables you to run through interpolation for all participants whilst specifying &lsquo;bad&rsquo; electrodes at the beginning of the code. This is because most participants will need different electrodes interpolating, so specifying a given electrode won&rsquo;t work if you want to use the script to pre-process en-mass.
To practise with the script, enter the electrode that you want to interpolate for a given participant in the curly brackets that follows that participant&rsquo;s ID, e.g.:</p>
<pre><code>   badchans.participant_01 = {'Cz'}; 
</code></pre>
<p>Then note how this creates a &lsquo;badchans&rsquo; list for each participant. See if you can get the script running for the two provided datasets, interpolating whichever electrodes you like.</p>
<hr style="height:1px; visibility:hidden;" />
<u> Write-up </u>
<hr style="height:1px; visibility:hidden;" />
<div class="write-up">
<blockquote>
<p>COMING SOON</p>
</blockquote>
</div>
<hr style="height:1px; visibility:hidden;" />
<u>FAQ</u>
<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>What if I am that N400 researcher?</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      So you&rsquo;ve got a dataset with a number of bad electrodes that are critical to your analysis. First off, silly you. No but seriously - try to fix these things during data acquisition because a 1-2h testing session end up completely wasted if you decide you&rsquo;re done with fixing impedance problems prematurely. But let&rsquo;s assume this is the situation you&rsquo;re in (because we&rsquo;ve all been silly at some point). The above scenario is fairly extreme, and in reality your options are fairly limited for retaining the dataset. But if we assume that you&rsquo;ve not got 5 crucial electrodes to interpolate, but instead perhaps 3, I would suggest considering a few factors to help inform your decisions. Firstly, how many surrounding electrodes remain, and how close are they in proximity to the original electrode? This will depend on how many electrodes you originally recorded from. For example, trying to interpolate 3 electrodes when you have a 12 electrode cap, vs a 128 is a very different scenario. Secondly, did any of the electrodes lose connection for a brief period, and then regain connection again? If so (see FAQ2) it might be worthwhile leaving the electrode alone.
    </div>
  </label>
</div>
<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>What if an electrode only goes bad for a short period?</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      There&rsquo;s no clear-cut answer to this one. Do you want to lose an experimental block because an electrode has gone awry, or do you want to lose the true signal from that electrode for the entire dataset. Two questions can factor into this though, firstly - how integral the electrode is to the component you&rsquo;re analysing, and secondly - how many trials per condition you can afford to lose? Generally, if the answer two the first question is &lsquo;very&rsquo;, I personally would be inclined not to interpolate the electrode in the first instance, and see whether I&rsquo;m left with a reasonable number of trials if I do so. If, however, the trial count drops below that which would enable you to retain the dataset in your analysis, then interpolation is probably the right route.
    </div>
  </label>
</div>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
  </main>

  
</body>
</html>












